import{r as i}from"./index-caxmlYbZ.js";import"./react-is.production.min-DUDD-a5e.js";import{b as fe,g as de,s as W,c as X,a as me,r as Se}from"./memoTheme-CtKMhVhH.js";import{u as Ce}from"./index-DPfWUdsj.js";import{j}from"./emotion-use-insertion-effect-with-fallbacks.browser.esm-o1lFxRFU.js";import{i as Te}from"./isHostComponent-DVu5iVWx.js";import{u as ne}from"./useSlot-D9bplHaG.js";import{g as ke,M as De}from"./Modal-1Y4qnMwn.js";import{P as Ie}from"./Paper-6MAfx-1M.js";import{u as he}from"./DefaultPropsProvider-C-EGLtJD.js";import{o as V}from"./ownerDocument-DW-IO8s5.js";import{o as ie}from"./ownerWindow-HkKU3E4x.js";import{d as Le}from"./debounce-Be36O1Ab.js";import{u as ge}from"./useForkRef-Plrw27Ce.js";import{G as Oe}from"./Grow-Br3_uBqd.js";import{a as ze}from"./useEventCallback-D-j5pFnD.js";import{a as Fe}from"./List-DDQAG58g.js";import{u as le}from"./useSlotProps-D3eEuKnU.js";function _(t,e,o){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:o?null:t.firstChild}function ae(t,e,o){return t===e?o?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:o?null:t.lastChild}function Pe(t,e){if(e===void 0)return!0;let o=t.innerText;return o===void 0&&(o=t.textContent),o=o.trim().toLowerCase(),o.length===0?!1:e.repeating?o[0]===e.keys[0]:o.startsWith(e.keys.join(""))}function A(t,e,o,C,y,d){let m=!1,u=y(t,e,e?o:!1);for(;u;){if(u===t.firstChild){if(m)return!1;m=!0}const f=C?!1:u.disabled||u.getAttribute("aria-disabled")==="true";if(!u.hasAttribute("tabindex")||!Pe(u,d)||f)u=y(t,u,o);else return u.focus(),!0}return!1}const Ke=i.forwardRef(function(e,o){const{actions:C,autoFocus:y=!1,autoFocusItem:d=!1,children:m,className:u,disabledItemsFocusable:f=!1,disableListWrap:R=!1,onKeyDown:T,variant:I="selectedMenu",...z}=e,s=i.useRef(null),g=i.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ze(()=>{y&&s.current.focus()},[y]),i.useImperativeHandle(C,()=>({adjustStyleForScrollbar:(r,{direction:n})=>{const p=!s.current.style.width;if(r.clientHeight<s.current.clientHeight&&p){const E=`${ke(V(r))}px`;s.current.style[n==="rtl"?"paddingLeft":"paddingRight"]=E,s.current.style.width=`calc(100% + ${E})`}return s.current}}),[]);const F=r=>{const n=s.current,p=r.key;if(r.ctrlKey||r.metaKey||r.altKey){T&&T(r);return}const M=V(n).activeElement;if(p==="ArrowDown")r.preventDefault(),A(n,M,R,f,_);else if(p==="ArrowUp")r.preventDefault(),A(n,M,R,f,ae);else if(p==="Home")r.preventDefault(),A(n,null,R,f,_);else if(p==="End")r.preventDefault(),A(n,null,R,f,ae);else if(p.length===1){const a=g.current,v=p.toLowerCase(),D=performance.now();a.keys.length>0&&(D-a.lastTime>500?(a.keys=[],a.repeating=!0,a.previousKeyMatched=!0):a.repeating&&v!==a.keys[0]&&(a.repeating=!1)),a.lastTime=D,a.keys.push(v);const S=M&&!a.repeating&&Pe(M,a);a.previousKeyMatched&&(S||A(n,M,!1,f,_,a))?r.preventDefault():a.previousKeyMatched=!1}T&&T(r)},L=ge(s,o);let l=-1;i.Children.forEach(m,(r,n)=>{if(!i.isValidElement(r)){l===n&&(l+=1,l>=m.length&&(l=-1));return}r.props.disabled||(I==="selectedMenu"&&r.props.selected||l===-1)&&(l=n),l===n&&(r.props.disabled||r.props.muiSkipListHighlight||r.type.muiSkipListHighlight)&&(l+=1,l>=m.length&&(l=-1))});const x=i.Children.map(m,(r,n)=>{if(n===l){const p={};return d&&(p.autoFocus=!0),r.props.tabIndex===void 0&&I==="selectedMenu"&&(p.tabIndex=0),i.cloneElement(r,p)}return r});return j.jsx(Fe,{role:"menu",ref:L,className:u,onKeyDown:F,tabIndex:y?0:-1,...z,children:x})});function He(t){return fe("MuiPopover",t)}de("MuiPopover",["root","paper"]);function ce(t,e){let o=0;return typeof e=="number"?o=e:e==="center"?o=t.height/2:e==="bottom"&&(o=t.height),o}function pe(t,e){let o=0;return typeof e=="number"?o=e:e==="center"?o=t.width/2:e==="right"&&(o=t.width),o}function ue(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function B(t){return typeof t=="function"?t():t}const je=t=>{const{classes:e}=t;return me({root:["root"],paper:["paper"]},He,e)},Ne=W(De,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),ye=W(Ie,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Ae=i.forwardRef(function(e,o){const C=he({props:e,name:"MuiPopover"}),{action:y,anchorEl:d,anchorOrigin:m={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:f="anchorEl",children:R,className:T,container:I,elevation:z=8,marginThreshold:s=16,open:g,PaperProps:F={},slots:L={},slotProps:l={},transformOrigin:x={vertical:"top",horizontal:"left"},TransitionComponent:r=Oe,transitionDuration:n="auto",TransitionProps:{onEntering:p,...E}={},disableScrollLock:M=!1,...a}=C,v=(l==null?void 0:l.paper)??F,D=i.useRef(),S={...C,anchorOrigin:m,anchorReference:f,elevation:z,marginThreshold:s,externalPaperSlotProps:v,transformOrigin:x,TransitionComponent:r,transitionDuration:n,TransitionProps:E},N=je(S),U=i.useCallback(()=>{if(f==="anchorPosition")return u;const c=B(d),P=(c&&c.nodeType===1?c:V(D.current).body).getBoundingClientRect();return{top:P.top+ce(P,m.vertical),left:P.left+pe(P,m.horizontal)}},[d,m.horizontal,m.vertical,u,f]),$=i.useCallback(c=>({vertical:ce(c,x.vertical),horizontal:pe(c,x.horizontal)}),[x.horizontal,x.vertical]),G=i.useCallback(c=>{const h={width:c.offsetWidth,height:c.offsetHeight},P=$(h);if(f==="none")return{top:null,left:null,transformOrigin:ue(P)};const Z=U();let K=Z.top-P.vertical,H=Z.left-P.horizontal;const ee=K+h.height,te=H+h.width,oe=ie(B(d)),re=oe.innerHeight-s,se=oe.innerWidth-s;if(s!==null&&K<s){const b=K-s;K-=b,P.vertical+=b}else if(s!==null&&ee>re){const b=ee-re;K-=b,P.vertical+=b}if(s!==null&&H<s){const b=H-s;H-=b,P.horizontal+=b}else if(te>se){const b=te-se;H-=b,P.horizontal+=b}return{top:`${Math.round(K)}px`,left:`${Math.round(H)}px`,transformOrigin:ue(P)}},[d,f,U,$,s]),[w,O]=i.useState(g),k=i.useCallback(()=>{const c=D.current;if(!c)return;const h=G(c);h.top!==null&&c.style.setProperty("top",h.top),h.left!==null&&(c.style.left=h.left),c.style.transformOrigin=h.transformOrigin,O(!0)},[G]);i.useEffect(()=>(M&&window.addEventListener("scroll",k),()=>window.removeEventListener("scroll",k)),[d,M,k]);const ve=(c,h)=>{p&&p(c,h),k()},we=()=>{O(!1)};i.useEffect(()=>{g&&k()}),i.useImperativeHandle(y,()=>g?{updatePosition:()=>{k()}}:null,[g,k]),i.useEffect(()=>{if(!g)return;const c=Le(()=>{k()}),h=ie(d);return h.addEventListener("resize",c),()=>{c.clear(),h.removeEventListener("resize",c)}},[d,g,k]);let Y=n;n==="auto"&&!r.muiSupportAuto&&(Y=void 0);const Me=I||(d?V(B(d)).body:void 0),q={slots:L,slotProps:{...l,paper:v}},[be,J]=ne("paper",{elementType:ye,externalForwardedProps:q,additionalProps:{elevation:z,className:X(N.paper,v==null?void 0:v.className),style:w?v.style:{...v.style,opacity:0}},ownerState:S}),[Q,{slotProps:Re,...xe}]=ne("root",{elementType:Ne,externalForwardedProps:q,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:Me,open:g},ownerState:S,className:X(N.root,T)}),Ee=ge(D,J.ref);return j.jsx(Q,{...xe,...!Te(Q)&&{slotProps:Re,disableScrollLock:M},...a,ref:o,children:j.jsx(r,{appear:!0,in:g,onEntering:ve,onExited:we,timeout:Y,...E,children:j.jsx(be,{...J,ref:Ee,children:R})})})});function We(t){return fe("MuiMenu",t)}de("MuiMenu",["root","paper","list"]);const Ue={vertical:"top",horizontal:"right"},$e={vertical:"top",horizontal:"left"},Ge=t=>{const{classes:e}=t;return me({root:["root"],paper:["paper"],list:["list"]},We,e)},Ve=W(Ae,{shouldForwardProp:t=>Se(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),_e=W(ye,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Be=W(Ke,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),ft=i.forwardRef(function(e,o){const C=he({props:e,name:"MuiMenu"}),{autoFocus:y=!0,children:d,className:m,disableAutoFocusItem:u=!1,MenuListProps:f={},onClose:R,open:T,PaperProps:I={},PopoverClasses:z,transitionDuration:s="auto",TransitionProps:{onEntering:g,...F}={},variant:L="selectedMenu",slots:l={},slotProps:x={},...r}=C,n=Ce(),p={...C,autoFocus:y,disableAutoFocusItem:u,MenuListProps:f,onEntering:g,PaperProps:I,transitionDuration:s,TransitionProps:F,variant:L},E=Ge(p),M=y&&!u&&T,a=i.useRef(null),v=(w,O)=>{a.current&&a.current.adjustStyleForScrollbar(w,{direction:n?"rtl":"ltr"}),g&&g(w,O)},D=w=>{w.key==="Tab"&&(w.preventDefault(),R&&R(w,"tabKeyDown"))};let S=-1;i.Children.map(d,(w,O)=>{i.isValidElement(w)&&(w.props.disabled||(L==="selectedMenu"&&w.props.selected||S===-1)&&(S=O))});const N=l.paper??_e,U=x.paper??I,$=le({elementType:l.root,externalSlotProps:x.root,ownerState:p,className:[E.root,m]}),G=le({elementType:N,externalSlotProps:U,ownerState:p,className:E.paper});return j.jsx(Ve,{onClose:R,anchorOrigin:{vertical:"bottom",horizontal:n?"right":"left"},transformOrigin:n?Ue:$e,slots:{paper:N,root:l.root},slotProps:{root:$,paper:G},open:T,ref:o,transitionDuration:s,TransitionProps:{onEntering:v,...F},ownerState:p,...r,classes:z,children:j.jsx(Be,{onKeyDown:D,actions:a,autoFocus:y&&(S===-1||u),autoFocusItem:M,variant:L,...f,className:X(E.list,f.className),children:d})})});export{ft as M,Ke as a};
